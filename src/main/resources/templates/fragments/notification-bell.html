<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Notifications Fragment</title>
</head>
<body>

<!-- Notification Bell Icon Fragment -->
<div th:fragment="notification-bell" class="notification-bell-container">
    <div class="notification-bell" onclick="toggleNotificationDropdown()">
        <i class="bi bi-bell-fill"></i>
        <span class="notification-badge" id="notificationBadge">0</span>
    </div>
    
    <div class="notification-dropdown" id="notificationDropdown">
        <div class="notification-header">
            <h3><i class="bi bi-bell"></i> Thông báo</h3>
            <button id="markAllAsRead"><i class="bi bi-check-all"></i></button>
        </div>
        <div class="notification-list" id="notificationList">
            <!-- Notification items will be loaded here via JavaScript -->
            <div class="notification-empty">
                <i class="bi bi-bell-slash"></i>
                <p>Chưa có thông báo nào</p>
            </div>
        </div>
        <div class="notification-footer">
            <a href="/notifications" class="view-all-btn">
                <i class="bi bi-list-ul"></i> Xem tất cả thông báo
            </a>
        </div>
    </div>
</div>

<!-- Store user ID in page for JavaScript access -->
<meta name="user-id" th:content="${#authentication.principal.maNguoiDung}" sec:authorize="isAuthenticated()">

</body>
</html>
