/* Minimal local copy placeholder for stomp.js. In production use CDN or proper library. */
// Using a tiny shim that expects SockJS + StompJS to be loaded by dependencies; for dev this file is a placeholder.
var Stomp = Stomp || {};
Stomp.over = function(socket) {
    // very small shim that delegates to SockJS directly for demo pub/sub
    return {
        connect: function(headers, cb) {
            socket.onopen = function() { cb('connected'); };
            this._socket = socket;
            this._handlers = {};
        },
        subscribe: function(dest, handler) {
            this._handlers[dest] = handler;
        },
        // internal demo publish function
        _deliver: function(dest, body) {
            if (this._handlers[dest]) {
                this._handlers[dest]({body: JSON.stringify(body)});
            }
        }
    };
};
