spring.application.name=iot-management

# Character Encoding Configuration
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true
server.servlet.encoding.force-request=true
server.servlet.encoding.force-response=true
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true

# SQL Server Configuration
spring.datasource.url=jdbc:sqlserver://${DB_SERVER_HOST}:${DB_SERVER_PORT};databaseName=${DB_SERVER_NAME};encrypt=false;trustServerCertificate=true;characterEncoding=UTF-8;useUnicode=true;
spring.datasource.username=${DB_SERVER_USERNAME}
spring.datasource.password=${DB_SERVER_PASSWORD}
spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.connection.CharSet=utf8
spring.jpa.properties.hibernate.connection.characterEncoding=utf8
spring.jpa.properties.hibernate.connection.useUnicode=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# Server Config
server.port=${SERVER_PORT:8080}

# Environment Variables
DB_SERVER_HOST=localhost
DB_SERVER_PORT=1433
DB_SERVER_NAME=DBIots
DB_SERVER_USERNAME=admin
DB_SERVER_PASSWORD=new1

# Email Configuration

MAIL_USERNAME=nhavothanh420@gmail.com
MAIL_PASSWORD=ufobrhkscmekwdrt
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Active profile
spring.profiles.active=prod

# Thymeleaf Configuration
spring.thymeleaf.check-template=true
spring.thymeleaf.check-template-location=true
spring.thymeleaf.enabled=true
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.cache=false
spring.thymeleaf.reactive.max-chunk-size=8192

# VNPAY configuration removed. Use SePay / VietQR settings instead.
app.base-url=https://kinaesthetic-aidan-scribbly.ngrok-free.dev
app.frontend-url=http://localhost:3000

# VietQR configuration (fill these with your bank info)
vietqr.bankBin=970415
vietqr.bankNumber=109879673245
vietqr.accountName=VO THANH NHA

# IMPORTANT: Replace the three vietqr.* values above with your bank's VietQR details.
# - vietqr.bankBin: the bank BIN (numeric identifier used by img.vietqr.io)
# - vietqr.bankNumber: your account number (no spaces)
# - vietqr.accountName: the account holder name (optional but recommended)
# Example (do NOT use these in production):
# vietqr.bankBin=970419
# vietqr.bankNumber=0123456789
# vietqr.accountName=Cty Co Phan ABC

# -----------------------
# SePay configuration
# -----------------------
# Use environment variables to keep secrets out of source control.
sepay.apiKey=${SEPAY_API_KEY:REPLACE_WITH_SEPAY_API_KEY}
sepay.secret=${SEPAY_SECRET:REPLACE_WITH_SEPAY_SECRET}
sepay.apiBaseUrl=${SEPAY_API_BASE:https://api.sepay.vn/}
## Use the app.base-url (set above) as the public reachable URL for callbacks/returns
# PUBLIC_BASE_URL environment variable can override app.base-url if provided
sepay.publicBaseUrl=${PUBLIC_BASE_URL:${app.base-url}}
sepay.callbackPath=/api/payments/webhook
# RETURN_URL environment variable can override the default return URL (falls back to app.base-url)
sepay.returnUrl=${RETURN_URL:${app.base-url}}

# -----------------------
# JWT / Security settings
# -----------------------
application.security.jwt.secret-key=${APPLICATION_SECURITY_JWT_SECRET_KEY:REPLACE_WITH_JWT_SECRET}
application.security.jwt.expiration=${APPLICATION_SECURITY_JWT_EXPIRATION:86400000}
application.security.jwt.refresh-token.expiration=${APPLICATION_SECURITY_JWT_REFRESH_EXPIRATION:604800000}

# Toggle security and CORS helper
app.security.enabled=${APP_SECURITY_ENABLED:true}
app.cors.allowed-origins=${APP_CORS_ALLOWED_ORIGINS:http://localhost:3000}
